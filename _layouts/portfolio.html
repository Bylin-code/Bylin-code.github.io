<!-- _layouts/portfolio.html -->
---
---
<section class="portfolio">
  <h1>Portfolio</h1>
  
  <!-- Hidden project data for carousel -->
  <div class="hidden-project-data" style="display: none;">
    {% for post in site.posts %}
      <div 
        data-project-post="true"
        data-project-id="{{ forloop.index }}"
        data-project-title="{{ post.title }}"
        data-project-url="{{ post.url }}"
        data-project-image="{% if post.featured_image %}{{ post.featured_image }}{% else %}https://placehold.co/420x594/e2e2e2/333333?text={{ post.title | url_encode }}{% endif %}"
        data-project-code="{{ post.project_code }}"
      ></div>
    {% endfor %}
  </div>
  
  <!-- Project carousel will be inserted here by JavaScript -->
  <div class="project-carousel">
    <div class="carousel-container">
      <div class="carousel-item left"></div>
      <div class="carousel-item center"></div>
      <div class="carousel-item right"></div>
    </div>
    <div class="carousel-dots">
      {% for post in site.posts %}
        <div class="dot{% if forloop.index0 == 2 %} active{% endif %}"></div>
      {% endfor %}
    </div>
  </div>
  
  <!-- Project cards -->
  <div class="projects">
    {% for post in site.posts %}
      <div class="project-card">
        <h2><a href="{{ post.url }}">{{ post.title }}</a></h2>
        <p>{{ post.excerpt }}</p>
        <p class="post-date">{{ post.date | date: "%b %d, %Y" }}</p>
      </div>
    {% endfor %}
  </div>
</section>
